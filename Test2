-- GitHub Version (Test2)
local LP = game:GetService("Players").LocalPlayer
local char = LP.Character
local hum = char and char:FindFirstChildOfClass("Humanoid")
local animate = char and char:FindFirstChild("Animate")

if not animate or not hum then 
    warn("Animation script or Humanoid not found!")
    return 
end

-- Та самая таблица бандлов (сокращено для примера, используй свою полную)
local bundles = {
    ["Ninja"] = {idle="656117400", walk="656121766", run="656118852", jump="656117878", fall="656115606", climb="656114359", swim="656119721"},
    ["Toy"] = {idle="782841498", walk="782843345", run="782842708", jump="782847020", fall="782846423", climb="782843869", swim="782844582"},
    -- ... (все твои 28 бандлов должны быть здесь)
}

local function getID(bundleName, animType)
    local b = bundles[bundleName] or bundles["Ninja"]
    return "rbxassetid://" .. tostring(b[animType]):gsub("rbxassetid://", "")
end

local ids = {}
if _G.HybridMode then
    ids.idle = getID(_G.H_Idle, "idle")
    ids.walk = getID(_G.H_Walk, "walk")
    ids.run = getID(_G.H_Run, "run")
    ids.jump = getID(_G.H_Jump, "jump")
    ids.fall = getID(_G.H_Fall, "fall")
    ids.climb = getID(_G.H_Climb, "climb")
    ids.swim = getID(_G.H_Swim, "swim")
else
    local bName = _G.SelectedAnim or "Ninja"
    ids.idle = getID(bName, "idle")
    ids.walk = getID(bName, "walk")
    ids.run = getID(bName, "run")
    ids.jump = getID(bName, "jump")
    ids.fall = getID(bName, "fall")
    ids.climb = getID(bName, "climb")
    ids.swim = getID(bName, "swim")
end

-- ПРИМЕНЕНИЕ
for _, track in pairs(hum:GetPlayingAnimationTracks()) do track:Stop(0) end

for folderName, assetId in pairs(ids) do
    local folder = animate:FindFirstChild(folderName)
    if folder then
        for _, animObj in pairs(folder:GetChildren()) do
            if animObj:IsA("Animation") then
                animObj.AnimationId = assetId
            end
        end
    end
end

-- ПЕРЕЗАГРУЗКА
animate.Disabled = true
task.wait(0.1)
animate.Disabled = false
hum:ChangeState(Enum.HumanoidStateType.Landed)

print("Animations applied successfully!")
